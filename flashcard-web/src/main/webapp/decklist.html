<!DOCTYPE html>
<html>
<head lang="sv">
    <meta charset="UTF-8">
    <title>mattekort.se</title>

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/flipcard.css">
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/main.css">

    <script src="lib/jquery-1.11.1.js"></script>
    <script src="js/decks.js"></script>

    <script type="text/javascript">
        function toogleDivs(divToOpen) {
            document.getElementById("addDiv").style.display = "none";
            document.getElementById("subDiv").style.display = "none";
            document.getElementById("multDiv").style.display = "none";
            document.getElementById("homeworkDiv").style.display = "none";


            document.getElementById(divToOpen).style.display = "block";
        }

    </script>
</head>
<body>

<div style="padding:10px; margin-top:10px; background-color:#D0E7EF;">
    <div class="row show-grid">
        <div class="span4">

            <h2>Välj kortlek</h2>
            <p>
                Klicka först på det räknesätt du vill träna på nedan, då visas vilka kortlekar som finns.<br>
                Klicka sedan på namnet på den kortlek du vill träna på!
            </p>

            <h3><a href="#" onclick='toogleDivs("addDiv");'>Plus</a></h3>
            <div style="display:none;" id="addDiv">
                <table class="table">
                    <tbody id="addtablebody">
                     <!-- rows will be inserted -->
                    </tbody>
                </table>
            </div>

            <h3><a href="#" onclick='toogleDivs("subDiv");'>Minus</a></h3>
            <div style="display:none;" id="subDiv">
                <table class="table">
                    <tbody id="subtablebody">
                    <!-- rows will be inserted -->
                    </tbody>
                </table>
            </div>

            <h3><a href="#" onclick='toogleDivs("multDiv");'>Gånger</a></h3>
            <div style="display:none;" id="multDiv">
                <table class="table">
                    <tbody id="multtablebody">
                    <!-- rows will be inserted -->
                    </tbody>
                </table>
            </div>

            <h3><a href="#" onclick='toogleDivs("homeworkDiv");'>Uppsävjaskolan 3c</a></h3>
            <div style="display:none;" id="homeworkDiv">
                <table class="table">
                    <tbody id="homeworktablebody">
                    <!-- rows will be inserted -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

</div>

<script>
    $(function() {

        function createDeckRows(decks) {
            var template ="<tr><td><a style='cursor:pointer;' onclick=\"location.href='game.html?deckid=#id#'\">" +
                         "<i class='icon-play icon-white'></i>#namn#</a><br>" +
                         "#besk# (#antal# kort) </td></tr>";
            var rows = "";

            for(var i = 0; i<decks.length; i++){
                rows += template
                        .replace("#id#", decks[i].id)
                        .replace("#namn#", decks[i].name)
                        .replace("#besk#", decks[i].desc)
                        .replace("#antal#", decks[i].cards.length);
            }
            return rows;
        }

        $("#addtablebody").append(createDeckRows(Decks.getAddDecks()));
        $("#subtablebody").append(createDeckRows(Decks.getSubDecks()));
        $("#multtablebody").append(createDeckRows(Decks.getMultiDecks()));
        $("#homeworktablebody").append(createDeckRows(Decks.getHomeworkDecks()));

    });
</script>

</body>
</html>